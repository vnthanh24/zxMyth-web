<!DOCTYPE html>
<html data-bs-theme="light" lang="en">

<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, shrink-to-fit=no">
    <title>Tru Tiên Landing</title>
    <link rel="stylesheet" href="assets/bootstrap/css/bootstrap.min.css">
    <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Lexend&amp;display=swap">
    <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Lexend+Deca&amp;display=swap">
    <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Lexend+Exa&amp;display=swap">
    <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto+Condensed&amp;display=swap">
    <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto+Serif&amp;display=swap">
    <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Raleway">
    <link rel="stylesheet" href="assets/css/FontAwesome.css">
    <link rel="stylesheet" href="assets/css/animate.min.css">
    <link rel="stylesheet" href="assets/css/Footer-Clean-icons.css">
    <link rel="stylesheet" href="assets/css/styles.css">
    <link rel="stylesheet" href="assets/css/bootstrap/css/bootstrap.min.css">
    <link rel="stylesheet" href="assets/css/css/animate.min.css">
    <link rel="stylesheet" href="assets/css/css/styles.css">
    <link rel="stylesheet" href="assets/css/css/bootstrap/css/bootstrap.min.css">
    <link rel="stylesheet" href="assets/css/css/fonts/font-awesome.min.css">
    <link rel="stylesheet" href="assets/css/css/css/bss-overrides.css">
    <link rel="stylesheet" href="assets/css/css/css/Footer-Clean-icons.css">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css">
    <style>
    /* Responsive custom styles */

    /* Navbar responsiveness */
    .glass-navbar .navbar-nav {
        flex-direction: row;
        flex-wrap: wrap;
        gap: 0.5rem;
    }
    @media (max-width: 991.98px) {
        .glass-navbar .navbar-nav {
            flex-direction: column;
            align-items: flex-start;
        }
        .navbar-collapse {
            background: rgba(0,0,0,0.8);
            padding: 1rem;
        }
    }
    .nav-glass-link {
        font-size: 1rem;
        padding: 0.5rem 1rem;
        text-align: center;
    }

    /* Logo responsiveness */
    .responsive-logo {
        width: 171px;
        height: 136px;
        margin-left: 40px;
        margin-top: 16px;
        max-width: 50vw;
        height: auto;
    }
    @media (max-width: 768px) {
        .responsive-logo {
            width: 100px;
            margin-left: 0;
            margin-top: 8px;
        }
    }
    @media (max-width: 480px) {
        .responsive-logo {
            width: 80px;
        }
    }

    /* Tab content responsiveness */
    .tab-body {
        padding: 10px;
        overflow-y: auto;
        height: 350px;
        font-size: 12px;
        opacity: 0;
        transform: translateY(10px);
        transition: all 0.3s ease-in-out;
    }
    .tab-pane.active .tab-body {
        opacity: 1;
        transform: translateY(0);
    }
    @media (max-width: 768px) {
        .tab-body {
            height: 220px;
            font-size: 11px;
        }
    }
    @media (max-width: 480px) {
        .tab-body {
            height: 140px;
            font-size: 10px;
        }
    }

    /* Download button responsiveness */
    .download-btn {
        display: inline-block;
        background: url('assets/img/download.png') no-repeat center center;
        background-size: cover;
        width: 295px;
        height: 119px;
        border: none;
        border-radius: 0;
        box-shadow: none;
        animation: pulseBlink 1.5s infinite;
        transition: transform 0.3s ease, filter 0.3s ease;
    }
    @media (max-width: 768px) {
        .download-btn {
            width: 180px;
            height: 72px;
        }
    }
    @media (max-width: 480px) {
        .download-btn {
            width: 130px;
            height: 52px;
        }
    }
    @keyframes pulseBlink {
        0% { opacity: 1; }
        50% { opacity: 0.85; }
        100% { opacity: 1; }
    }
    .download-btn:hover {
        transform: scale(1.03);
        filter: brightness(1.1);
        animation: none;
    }
    /* Footer responsiveness */
    .glass-footer {
        position: relative;
        bottom: 0;
        width: 100%;
        background: rgba(255, 255, 255, 0.1);
        backdrop-filter: blur(10px);
        -webkit-backdrop-filter: blur(10px);
        color: white;
        text-align: center;
        padding: 12px 20px;
        font-size: 14px;
        box-shadow: 0 -1px 10px rgba(0,0,0,0.2);
        z-index: 10;
    }
    @media (max-width: 480px) {
        .glass-footer {
            font-size: 12px;
            padding: 8px 6px;
        }
    }

    /* Main layout responsiveness */
    body, html {
        min-height: 100vh;
        margin: 0;
        padding: 0;
        display: flex;
        flex-direction: column;
    }
    main {
        flex: 1;
        width: 100%;
    }
    /* Utility for flex containers to stack vertically on mobile */
    .flex-responsive {
        display: flex;
        flex-direction: row;
        align-items: flex-start;
    }
    @media (max-width: 768px) {
        .flex-responsive {
            flex-direction: column;
            align-items: center;
        }
    }
    </style>
</head>

<body style="background: url(&quot;assets/img/head-bg.jpg&quot;) top / auto no-repeat, #0e121d;height: auto;">
    <main style="height: auto;">
        <div>
            <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.10.5/font/bootstrap-icons.css">    
            <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@400;600&display=swap" rel="stylesheet">
            <nav class="navbar glass-navbar navbar-expand-lg justify-content-center">
                <div class="container text-center">
                    <button class="navbar-toggler text-white" type="button" data-bs-toggle="collapse" data-bs-target="#navbarGlass">
                        <span class="navbar-toggler-icon"></span>
                    </button>
                    <div class="collapse navbar-collapse justify-content-center" id="navbarGlass">
                        <ul class="navbar-nav d-flex justify-content-center flex-wrap gap-2">
                            <li class="nav-item">
                                <a class="nav-link text-white nav-glass-link" href="https://trutienmyth.net">
                                    <i class="bi bi-house-door-fill me-2"></i>Trang chủ
                                </a>
                            </li>
                            <li class="nav-item">
                                <a class="nav-link text-white nav-glass-link" href="https://news.trutienmyth.net">
                                    <i class="bi bi-newspaper me-2"></i>Tin tức & sự kiện
                                </a>
                            </li>
                            <li class="nav-item">
                                <a class="nav-link text-white nav-glass-link" href="https://facebook.com/groups/zxmyth">
                                    <i class="bi bi-facebook me-2"></i>FB Group
                                </a>
                            </li>
                            <li class="nav-item">
                                <a class="nav-link text-white nav-glass-link" href="https://discord.gg/P2a9NC6UpZ">
                                    <i class="bi bi-discord me-2"></i>Discord
                                </a>
                            </li>
                            <li class="nav-item">
                                <a class="nav-link text-white nav-glass-link" href="https://id.trutienmyth.net/index/register">
                                    <i class="bi bi-pencil-square me-2"></i>Đăng ký
                                </a>
                            </li>
                            <li class="nav-item">
                                <a class="nav-link text-white nav-glass-link" href="https://id.trutienmyth.net/index/login">
                                    <i class="bi bi-box-arrow-in-right me-2"></i>Đăng nhập
                                </a>
                            </li>
                        </ul>
                    </div>
                </div>
            </nav>
        </div>
        <div class="flex-responsive" style="width:100%">
            <div style="height: 130px; flex-shrink:0;">
                <img class="swing animated responsive-logo" src="assets/img/logo.webp" alt="Tru Tiên Logo" loading="eager">
            </div>
            <div class="d-flex justify-content-end align-items-start" style="height: 350px;flex:1;">
                <div style="background: rgba(0,0,0,0.13);width: 100%;max-width: 300px;height: 100%;border-radius: 18px;box-shadow: 0 2px 8px rgba(0,0,0,0.08);"></div>
            </div>
        </div>
        <div class="container" style="max-width: 750px; margin-top: 15px;">
            <ul class="nav nav-underline nav-justified" role="tablist" style="background: rgb(255,255,255);height: 50px;">
                <li class="nav-item" role="presentation">
                    <a class="nav-link active" data-bs-toggle="tab" href="#tab-tintuc" style="font-size: 14px;">Tin tức</a>
                </li>
                <li class="nav-item" role="presentation">
                    <a class="nav-link" data-bs-toggle="tab" href="#tab-sukien" style="font-size: 14px;">Sự kiện</a>
                </li>
                <li class="nav-item" role="presentation">
                    <a class="nav-link" data-bs-toggle="tab" href="#tab-capnhat" style="font-size: 14px;">Cập nhật</a>
                </li>
            </ul>
            <div class="tab-content">
                <div id="tab-tintuc" class="tab-pane active" role="tabpanel">
                    <div id="api-tintuc" class="tab-body">
                        <div class="loader">Đang tải tin tức...</div>
                    </div>
                </div>
                <div id="tab-sukien" class="tab-pane" role="tabpanel">
                    <div id="api-sukien" class="tab-body">
                        <div class="loader">Đang tải sự kiện...</div>
                    </div>
                </div>
                <div id="tab-capnhat" class="tab-pane" role="tabpanel">
                    <div id="api-capnhat" class="tab-body">
                        <div class="loader">Đang tải cập nhật...</div>
                    </div>
                </div>
            </div>
        </div>
        <div class="d-flex justify-content-end" style="margin-top: 30px;margin-bottom: 15px;">
            <a class="btn btn-primary download-btn" role="button" href="download.html"></a>
        </div>
    </main>
    <div class="bottom-100 d-inline">
        <footer class="glass-footer">
            <div class="footer-content">
                &copy; 2025 Tru Tiên Classic. All rights reserved.
            </div>
        </footer>
    </div>
    <script>
    // Blogger API config
    const bloggerConfig = {
        apiKey: 'AIzaSyDzZ2sBM101T0ani6qQj0h1b4k8B6dZ2bU',
        blogId: '4545197129561134859',
        maxPosts: 5,
        labels: {
            'tintuc': 'tintuc',
            'sukien': 'sukien',
            'capnhat': 'capnhat'
        }
    };

    // Fetch posts
    async function fetchBloggerPosts(label) {
        try {
            let url = `https://www.googleapis.com/blogger/v3/blogs/${bloggerConfig.blogId}/posts?key=${bloggerConfig.apiKey}&maxResults=${bloggerConfig.maxPosts}`;
            if (label) url += `&labels=${encodeURIComponent(label)}`;
            const response = await fetch(url);
            const data = await response.json();
            if (data.items?.length) {
                return data.items.map(post => ({
                    title: post.title,
                    date: new Date(post.published).toLocaleDateString('vi-VN'),
                    url: post.url
                }));
            }
            return [];
        } catch (err) {
            console.error("Lỗi API Blogger:", err);
            return [];
        }
    }

    // Hiển thị bài viết
    function displayPosts(posts, containerId) {
        const container = document.getElementById(`api-${containerId}`);
        if (!container) return;
        if (!posts.length) {
            container.innerHTML = '<div class="no-posts">Không có bài viết nào</div>';
            return;
        }

        container.innerHTML = posts.map((post, index) => `
            <div class="post-item ${index === 0 ? 'post-latest' : ''}">
                <a href="${post.url}" target="_blank" class="post-title">${index === 0 ? '🆕 ' : ''}${post.title}</a>
                <div class="post-date">${post.date}</div>
            </div>
        `).join('');
    }

    // Load all tabs
    async function loadAllBloggerContent() {
        const tabs = bloggerConfig.labels;
        for (const [tabId, label] of Object.entries(tabs)) {
            const posts = await fetchBloggerPosts(label);
            displayPosts(posts, tabId);
        }
    }

    // Hover & click tab
    function activateTab(tabLink) {
        document.querySelectorAll('.nav-link').forEach(el => el.classList.remove('active'));
        document.querySelectorAll('.tab-pane').forEach(el => el.classList.remove('active'));

        tabLink.classList.add('active');
        const target = document.querySelector(tabLink.getAttribute('href'));
        if (target) target.classList.add('active');
    }

    // Init
    document.addEventListener('DOMContentLoaded', () => {
        loadAllBloggerContent();

        document.querySelectorAll('.nav-link').forEach(link => {
            link.addEventListener('mouseover', function () {
                activateTab(this);
            });
            link.addEventListener('click', function (e) {
                e.preventDefault();
                activateTab(this);
            });
        });
    });
    </script>
    <script src="assets/bootstrap/js/bootstrap.min.js"></script>
    <script src="assets/js/bs-init.js"></script>
</body>

</html>
